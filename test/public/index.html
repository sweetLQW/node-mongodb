<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>首页</title>
</head>
<body>
    <h1>这是首页</h1>
    <h3>接口/fruits请求的参数</h3>
    <span class="fruits"></span>
    <h3>接口/animals请求的参数</h3>
    <span class="animals"></span>
    <h3>接口/aaa请求的参数</h3>
    <span class="aaa"></span>
    <h3>接口/bbb请求的参数</h3>
    <span class="bbb"></span>
    <h3>接口/ccc请求的参数</h3>
    <span class="ccc"></span>

    <script src="ajaxHook.js"></script>
    <!--<script src="ajaxBefore.js"></script>-->
    <script>
        var data = {"user":"lqw"};
        //请求fruits
        var XHRFruits = new XMLHttpRequest();
        XHRFruits.open('GET', "/fruits", false);
        XHRFruits.setRequestHeader("Content-type", "application/json");
        XHRFruits.setRequestHeader("a", "a");
        XHRFruits.onreadystatechange = function() {
            if (XHRFruits.readyState == 4 && XHRFruits.status == 200 || XHRFruits.status == 304) {
                document.querySelector(".fruits").innerHTML = JSON.parse(XHRFruits.responseText).fruits;
            }
        };


        //请求animals
        var XHRAnimals = new XMLHttpRequest();
        XHRAnimals.open('post', "/animals",true);
        XHRAnimals.setRequestHeader("Content-type", "application/json");
        XHRAnimals.onreadystatechange = function() {
            if (XHRAnimals.readyState == 4 && XHRAnimals.status == 200 || XHRAnimals.status == 304) {
                document.querySelector(".animals").innerHTML = JSON.parse(XHRAnimals.responseText).animals;
            }
        };


        //请求aaa
        var XHRaa = new XMLHttpRequest();
        XHRaa.open('GET', "/aaa", true);
        XHRaa.setRequestHeader("Content-type", "application/json");
        XHRaa.onreadystatechange = function() {
            if (XHRaa.readyState == 4 && XHRaa.status == 200 || XHRaa.status == 304) {
                document.querySelector(".aaa").innerHTML = JSON.parse(XHRaa.responseText).aaa;
            }
        };
        XHRFruits.send();
        XHRAnimals.send(JSON.stringify(data));
        XHRaa.send();

        //请求bbb
        var XHRbb = new XMLHttpRequest();
        XHRbb.open('post', "/bbb", true);
        XHRbb.setRequestHeader("Content-type", "application/json");
        XHRbb.onreadystatechange = function() {
            if (XHRbb.readyState == 4 && XHRbb.status == 200 || XHRbb.status == 304) {
                document.querySelector(".bbb").innerHTML = JSON.parse(XHRbb.responseText).bbb;
            }
        };
        XHRbb.send(JSON.stringify(data));

        //请求ccc
        var XHRcc = new XMLHttpRequest();
        XHRcc.open('GET', "/ccc", true);
        XHRcc.setRequestHeader("Content-type", "application/json");
        XHRcc.onreadystatechange = function() {
            if (XHRcc.readyState == 4 && XHRcc.status == 200 || XHRcc.status == 304) {
                document.querySelector(".ccc").innerHTML = JSON.parse(XHRcc.responseText).ccc;
            }
        };
        XHRcc.send();
        function fun(){
            //请求ddd
            var XHRdd = new XMLHttpRequest();
            XHRdd.open('GET', "/ccc", false);
            XHRdd.setRequestHeader("Content-type", "application/json");
            XHRdd.onreadystatechange = function() {
                if (XHRdd.readyState == 4 && XHRdd.status == 200 || XHRdd.status == 304) {
                    document.querySelector(".ddd").innerHTML = JSON.parse(XHRdd.responseText).ccc;
                }
            };
            XHRdd.send();
        }

    </script>
</body>
</html>